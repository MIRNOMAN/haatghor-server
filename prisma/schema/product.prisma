model Product {
  id             String        @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  slug           String        @unique
  description    String
  categoryId     String        @db.ObjectId
  brand          String?
  images         String[]
  price          Float
  discount       Float         @default(0)
  stock          Int           @default(0)
  status         ProductStatus @default(ACTIVE)
  variants       Variant[]
  rating         Float         @default(0)
  totalReviews   Int           @default(0)
  isFeatured     Boolean       @default(false)
  specifications Json?         @default("{}")
  tags           String[]
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt

  category   Category    @relation(fields: [categoryId], references: [id])
  reviews    Review[]
  cartItems  CartItem[]
  orderItems OrderItem[]
  wishlist   Wishlist[]
  flashSales FlashSale[]

  @@map("products")
}

type Variant {
  name  String
  value String // REQUIRED
  price Float?
  stock Int?
}
